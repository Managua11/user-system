<div class="p-4">
  <p-table [value]="(users$ | async) || []" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template #caption>
      <form [formGroup]="form" class="flex">
        <p-iconfield iconPosition="left" class="ml-auto">
          <p-inputicon>
            <i class="pi pi-search"></i>
          </p-inputicon>
          <input pInputText type="text" formControlName="search" placeholder="Search keyword" />
        </p-iconfield>
      </form>
    </ng-template>
    <ng-template #header>
      <tr>
        @for (header of headers; track header) {
        <th>{{ header }}</th>
        }
        <th class="flex justify-center">Actions</th>
      </tr>
    </ng-template>
    <ng-template #body let-user>
      <tr>
        <td>{{ user.name }}</td>
        <td>{{ user.username }}</td>
        <td>{{user.phone}}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.company.name }}</td>

        <td class="flex gap-2 justify-center">
          <p-button severity="info" label="Posts" routerLink="/users/posts/{{user.id}}" />

          <p-button severity="success" label="ToDo" routerLink="/users/todo-list/{{user.id}}" />
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>